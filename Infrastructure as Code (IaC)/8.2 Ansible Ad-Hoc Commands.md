# Ansible Ad-Hoc Commands
Learn how to use Ansible Ad-hoc commands to perform tasks on remote machine
## Install Ansible
Ansible uses simple English like language to automate configurations, settings, and deployments in traditional and cloud environments. It’s easy to learn and can be understood by even non-technical folks.
First, we need to install the Ansible program.
```
pip3 install ansible==6.4.0
```
## Inventory file
Inventory is a file to define a list of hosts that can be sorted as groups, it provides ability to store and manage some variables. The inventory can be created as INI or YAML, but the most common format is INI and might look like this:
```
[devsecops]
devsecops-box-6jnpiomi
[sandbox]
sandbox-6jnpiomi
[prod]
prod-6jnpiomi
```
The headings in the bracket are a group name that used to defines our hosts. So let’s create the inventory file for Ansible using the following command.
```
cat > inventory.ini <<EOL
[devsecops]
devsecops-box-6jnpiomi
[sandbox]
sandbox-6jnpiomi
[prod]
prod-6jnpiomi
EOL
```
To see which hosts in our inventory matches a supplied group name, let’s try the following command.
```
ansible -i inventory.ini prod --list-hosts
**Output**
 hosts (1):
prod-6jnpiomi
```
You can change the prod value to another group name like sandbox or devsecops to see if there is a host match. In case there is no host match, the output looks like below for a group named gitlab that does not exist in our inventory file.
```
ansible -i inventory.ini gitlab --list-hosts
**Output**
[WARNING]: Could not match supplied host pattern, ignoring: gitlab
[WARNING]: No hosts matched, nothing to do
  hosts (0):
```
## Ansible Configuration File
Ansible also can be customized by modifying the ansible configuration called ansible.cfg. You can see if there is any default configuration through the following command:
```
ansible --version
**Output**
ansible [core 2.13.5]
  config file = None
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.8/dist-packages/ansible
  ansible collection location = /root/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/local/bin/ansible
  python version = 3.8.10 (default, Jun 22 2022, 20:18:18) [GCC 9.4.0]
  jinja version = 3.1.2
  libyaml = True
```
config file is None, if you’re using CentOS, you will find out there is a config file at /etc/ansible/ansible.cfg by default.
Because we don’t have an ansible.cfg in our machine, we can create it manually by doing:
```
mkdir /etc/ansible/
cat > /etc/ansible/ansible.cfg <<EOF
[defaults]
stdout_callback = yaml
deprecation_warnings = False
host_key_checking = False
retry_files_enabled = False
inventory = /inventory.ini
EOF
```
Then, type ansible --version command once again, you will see the value now reflects the config file that we created before.
```sh
**Output**
ansible [core 2.13.5]
  config file = /etc/ansible/ansible.cfg
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.8/dist-packages/ansible
  ansible collection location = /root/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/local/bin/ansible
  python version = 3.8.10 (default, Jun 22 2022, 20:18:18) [GCC 9.4.0]
  jinja version = 3.1.2
  libyaml = True
```
With the config file, you can define any settings like inventory default location or output formats when Ansible finishes a certain command or a playbook. If you want to see further details about the config, you can check out this link (https://docs.ansible.com/ansible/latest/installation_guide/intro_configuration.html) and the ansible.cfg default config at here: https://raw.githubusercontent.com/ansible/ansible/devel/examples/ansible.cfg
> ProTip: Instead of using /etc/ansible/ansible.cfg file, you can create an ansible.cfg file in the directory where you have created the playbook or from the directory where you are running Ansible commands.

## Ad-hoc Commands